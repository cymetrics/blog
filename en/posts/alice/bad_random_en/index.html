<!DOCTYPE html><html domain="tech-blog.cymetrics.io" ga-id="G-3VBVCXV9Z0" lang="en"><head><meta charset="utf-8"><meta content="width=device-width,initial-scale=1" name="viewport"><meta content="CYBER,Cymetrics,Security" name="keywords"><link href="/img/favicon/favicon-192x192.png?hash=42b087227d" rel="icon" type="image/png"><meta content="#5789d3" name="theme-color"><title>How to prevent randomness vulnerabilities in Solidity.</title><meta content="How to prevent randomness vulnerabilities in Solidity." property="og:title"><meta content="How to prevent randomness vulnerabilities in Solidity." name="twitter:title"><meta content="summary_large_image" name="twitter:card"><meta content="In Solidity, randomness is often applied in lotteries, NFT generation, GameFi, and so on, to distribute prizes or determine the rarity and appearance of game items and other characteristics. The authenticity of the randomness used in decentralized applications directly impacts user rights. If the random outcome can be predicted or manipulated, it undermines the principle of fairness pursued by decentralized applications. Using visible information when generating random numbers in Solidity can lead to vulnerabilities related to pseudo-randomness.This article will delve into the issues of randomness in Solidity and its potential risks, providing effective solutions to help developers protect smart contracts from such vulnerabilities." name="description"><meta content="In Solidity, randomness is often applied in lotteries, NFT generation, GameFi, and so on, to distribute prizes or determine the rarity and appearance of game items and other characteristics. The authenticity of the randomness used in decentralized applications directly impacts user rights. If the random outcome can be predicted or manipulated, it undermines the principle of fairness pursued by decentralized applications. Using visible information when generating random numbers in Solidity can lead to vulnerabilities related to pseudo-randomness.This article will delve into the issues of randomness in Solidity and its potential risks, providing effective solutions to help developers protect smart contracts from such vulnerabilities." name="twitter:description"><meta content="In Solidity, randomness is often applied in lotteries, NFT generation, GameFi, and so on, to distribute prizes or determine the rarity and appearance of game items and other characteristics. The authenticity of the randomness used in decentralized applications directly impacts user rights. If the random outcome can be predicted or manipulated, it undermines the principle of fairness pursued by decentralized applications. Using visible information when generating random numbers in Solidity can lead to vulnerabilities related to pseudo-randomness.This article will delve into the issues of randomness in Solidity and its potential risks, providing effective solutions to help developers protect smart contracts from such vulnerabilities." property="og:description"><meta content="article" property="og:type"><meta content="https://tech-blog.cymetrics.io/en/posts/alice/bad_random_en/" property="og:url"><meta content="Cymetrics Tech Blog" property="og:site_name"><meta content="https://tech-blog.cymetrics.io/img/favicon/favicon-512x512.png" property="og:image"><meta content="https://tech-blog.cymetrics.io/img/favicon/favicon-512x512.png" name="twitter:image"><meta content="hsZQwAip9iIbys-i4PJp_MfpNiA6w6RB0hYdWLiLUuk" name="google-site-verification"><link href="https://tech-blog.cymetrics.io/en/posts/alice/bad_random_en/" rel="canonical"><meta content="always" name="referrer"><link href="/feed/feed.xml" rel="alternate" type="application/atom+xml" title="Cymetrics Tech Blog"><link href="/" rel="preconnect" crossorigin=""><script async="" src="/js/min.js?hash=7f26b2ece8" defer=""></script><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-3VBVCXV9Z0"></script><script>window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-3VBVCXV9Z0');</script><script csp-hash="">if (/Mac OS X/.test(navigator.userAgent))document.documentElement.classList.add('apple')</script><style>:root{--primary-color: #5789d3;--primary-dark-color: #ffd349;--fgColor: #2f2f2f;--bgColor: linear-gradient(to top, #efefef, #ffffff);--primary: var(--primary-color);--primary-dark: var(--primary-dark-color);--fg: var(--fgColor);--bg: var(--bgColor);--progressColor: #ffd349;--main-width: calc(100vw - 3em)}main img{content-visibility:auto}article *{scroll-margin-top:50px}header nav{z-index:1;position:fixed;top:0;left:0;width:100vw;background:#fff;font-weight:200;text-align:right;padding:0}@media (min-width:37.5em){:root{--main-width: calc(37.5em - 3em)}}dialog,share-widget{position:fixed;opacity:.9}share-widget{right:20px;bottom:20px;width:50px;height:50px;border-radius:50%;overflow:hidden;box-shadow:2px 3px 5px 2px rgba(0,0,0,.2)}@media screen and (max-width:376px){share-widget{display:none}}share-widget div{margin-left:50%;transform:translateX(-50%);width:20px;height:20px;background-image:url(/img/share.svg);background-repeat:no-repeat;background-position:center;background-size:contain}.apple share-widget div{background-image:url(/img/share-apple.svg)}share-widget button{margin:0;padding:0;width:100%;height:100%;transition:.3s}share-widget button:active{transform:scale(1.2)}dialog{background-color:var(--primary-dark);z-index:1000;font-size:14px}#reading-progress{z-index:1;background-color:var(--progressColor);width:100vw;position:absolute;left:0;bottom:0;height:2px;transform:translate(-100vw,0);will-change:transform;pointer-events:none}#posts li{margin-bottom:.5em}button,html{line-height:1.15}html{-webkit-text-size-adjust:100%;font-family:"Open Sans",-apple-system,system-ui,BlinkMacSystemFont,"Segoe UI",Roboto,"Noto Sans","Helvetica Neue",Helvetica,Arial,"Noto Sans TC","PingFang TC","Hiragino Sans GB","Heiti TC","Microsoft YaHei","Microsoft Jhenghei",sans-serif;--font-family: "Open Sans", -apple-system, system-ui, BlinkMacSystemFont,
    "Segoe UI", Roboto, "Noto Sans", "Helvetica Neue", Helvetica, Arial,
    "Noto Sans TC", "PingFang TC", "Hiragino Sans GB", "Heiti TC",
    "Microsoft YaHei", "Microsoft Jhenghei", sans-serif}body{margin:0}body.lock{overflow:hidden}a{background-color:transparent;text-underline-offset:2px;text-decoration:none;color:var(--primary)}b{font-weight:700}img{border-style:none;max-width:100%;height:auto;margin:0 auto}button{font-family:inherit;font-size:100%;overflow:visible;text-transform:none}[type=button],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}h2{font-size:2.5em;line-height:1.2;margin-bottom:.6em;line-height:2.4rem;margin-bottom:1.36rem;font-size:1.728rem}h3{font-size:2em;line-height:1.125;margin-bottom:.75em;font-size:1.4rem;line-height:1.5rem;margin-bottom:1rem}body,ol,p,pre,ul{font-size:1em}ol,p,pre,ul{margin-bottom:1.5em}body,ol,p,pre,ul{font-size:1rem;line-height:1.6}ol,p,pre,ul{margin-bottom:1.36rem}@media (min-width:600px){h2{font-size:2.0097rem;line-height:2.52rem}h3{font-size:1.7989rem;line-height:2rem}body,ol,p,pre,ul{font-size:1.1rem;line-height:1.6}h2,h3,ol,p,pre,ul{margin-bottom:1.496rem}}@media (min-width:1200px){h2{font-size:2.05rem}h3{font-size:1.5rem}body,ol,p,pre,ul{font-size:1.2rem;line-height:1.6}h2,h3,ol,p,pre,ul{margin-bottom:1.632rem}}code,pre{overflow-x:auto}pre{font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace}pre code:not([class]){overflow-x:scroll}button,code{border-radius:.3em}code{color:#e33671;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:90%}h1,h2,h3{font-family:var(--font-family)}a:hover{text-decoration:underline}button{max-width:100%;background:#f2f2f2;color:#191919;cursor:pointer;padding:.75em 1.5em;text-align:center;margin:0 .75em 1.5em 0}button+label,label+*{page-break-before:always}button,label{display:inline-block}button:hover{background:#d9d9d9;color:#000}button:not([disabled]){background:#f9c412;color:#181818;background:var(--primary)}button:not([disabled]):hover{background:#ba9005;color:#000;background:var(--primary-dark)}*{border:0;box-sizing:border-box}body{font-family:var(--font-family);background:var(--bg);color:var(--fg)}header label{display:block}article,header{max-width:100%;width:42.5em;margin:0 auto}header{padding:4.5em 24px 0;text-align:center;display:flex;align-items:center;flex-direction:column}header p,ol,ul{margin-top:0}header nav .nav-title{float:left;font-size:inherit;line-height:inherit;margin:0;text-align:left}header nav label{color:#000;cursor:pointer;margin:0;font-style:normal;text-align:right}main{max-width:70rem;margin:0 auto;min-height:60vh}article{padding:1.5em;word-break:break-word}li ol,li ul{margin-bottom:0}code[class*=language-],pre[class*=language-]{color:#ccc;background:0 0;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#2d2d2d}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.comment{color:#999}.token.punctuation{color:#ccc}.token.boolean,.token.function,.token.number{color:#f08d49}.token.class-name,.token.property{color:#f8c555}.token.builtin,.token.keyword{color:#cc99cd}.token.string{color:#7ec699}.token.operator,.token.url{color:#67cdcc}.token.bold{font-weight:700}.token.inserted{color:green}::-webkit-scrollbar-thumb:hover{background:var(--primary)}.w-full{width:100%}h1{font-size:32px;line-height:1.25;margin:.67em 0;text-align:left}header aside{font-size:16px;color:#4b4b4b}.post,footer{border-top:1px solid #ccc}.post{padding-top:35px;margin-top:35px}.menu__btn{display:inline-block;width:24px;height:24px;position:relative}.menu__btn span{opacity:0;width:1px;height:1px;overflow:hidden;display:block}.menu__btn::after,.menu__btn::before{content:"";position:absolute;top:51%;left:50%;height:2px;width:17px;background-color:#2d2d2d;border-radius:.1rem}.menu__btn::before{transform:translate(-50%,-50%);box-shadow:0 .3rem 0 #2d2d2d,0 -.3rem 0 #2d2d2d}.menu__btn::after{display:none;transform:translate(-50%,-50%) rotate(90deg)}.menu__btn.menu__btn--close{z-index:9;transform:rotate(45deg)}.menu__btn.menu__btn--close::before{box-shadow:none}.menu__btn.menu__btn--close::after{display:block}#nav,#nav .nav-title{display:flex;align-items:center}#nav{position:relative;height:68px;z-index:2}#nav .nav-title{padding:.375rem 1.5rem;width:100%;justify-content:space-between}#nav .nav-title *,.article-footer img{margin:0}.nav__links{display:none;flex-direction:column;position:fixed;z-index:3;top:0;left:0;right:0;bottom:0;padding:86px 48px 0;background-image:linear-gradient(to top,#efefef,#fff),linear-gradient(to bottom,#f9f9f9,#f9f9f9)}.nav__links--open{display:flex}.nav__links a{text-align:left;width:100%;padding:.5rem 0;transition:all .3s ease-out;font-weight:700;text-decoration:none;color:var(--fg)}.nav__links a:hover{color:var(--primary-color)}.nav-logo{width:260px;height:40px;background:url(/img/logo1.png) no-repeat center center;background-size:contain}footer{margin-top:48px;font-size:14px;padding:24px;text-align:center}.copyright{display:inline-block}footer>*{margin:.5em}.footer-logos{display:flex;align-items:center;justify-content:center}.footer-logos a:not(:first-child){margin-left:32px}.post-tags{display:flex;gap:0 16px;flex-wrap:wrap}.direct-link{display:none}.post-avatar{margin-top:27px;display:flex;align-items:center;height:36px}.post-avatar__img{width:36px;height:36px;overflow:hidden;margin:0;border-radius:50%}.post-avatar__time{font-size:13px}.post-avatar__info{margin-left:8px;color:#747474;text-align:left}.post-avatar__author{font-size:14px;font-weight:700}.article-footer{margin-top:40px;border-bottom:1px solid #ccc;padding-bottom:52px}.article-footer a{float:right;display:flex;align-items:center;color:var(--fg);font-weight:700;margin-left:4px}.article-author{margin-top:34px;display:flex;align-items:flex-start;margin-bottom:48px}.article-author__img{width:80px;height:80px;overflow:hidden;margin:0;border-radius:50%;flex-shrink:0}.article-author__info{margin-left:16px;text-align:left}.article-author__title{color:#747474;font-size:16px}.article-author__author{font-size:22px;font-weight:700;line-height:1em}.article-author__intro{color:#2f2f2f;margin-top:8px}@media (min-width:768px){h1{font-size:48px}header aside{font-size:20px}header nav a:first-of-type{margin-left:auto}header nav a:last-of-type{margin-right:1.5em}.menu__btn{display:none}#nav,footer{max-width:1168px}#nav{height:80px;margin:0 auto}.nav-logo{width:313px}.nav__links{display:flex;flex-direction:row;position:static;padding:0;background-image:none}.nav__links a{text-align:center;margin-left:56px}footer{display:flex;flex-direction:row-reverse;justify-content:space-between;align-items:center;margin-left:auto;margin-right:auto}}</style></head><body><header><nav><div id="nav"><div class="nav-title"><a href="/en" class="nav-logo" title="Homepage"></a> <label class="menu__btn" for="menu__control"><span>Menu</span></label></div><div class="nav__links"><a href="/en/archive/">Archive</a> <a href="/en/tags/">Tags</a> <a href="/en/about/">About</a> <a href="/" style="white-space:nowrap;">中文</a></div></div><div id="reading-progress" aria-hidden="true"></div></nav><h1 class="w-full">How to prevent randomness vulnerabilities in Solidity.</h1><aside class="w-full"><div class="post-tags"><a href="/en/tags/postsen/" class="post-tag">#postsEn</a> <a href="/en/tags/blockchain/" class="post-tag">#Blockchain</a> <a href="/en/tags/solidity/" class="post-tag">#Solidity</a></div><div class="post-avatar"><img alt="AliceHsu" src="/img/authors/alice_logo.jpg" class="post-avatar__img" data-deopt="true"><div class="post-avatar__info"><div class="post-avatar__author"><a href="/en/posts/alice">AliceHsu</a></div><div class="post-avatar__time">31 Oct 2024</div></div></div></aside><dialog id="message"></dialog></header><main><article><div id="post-page"></div><p><picture><source sizes="(max-width: 758px) 100vw, 758px" srcset="/img/posts/alice/badrandom/bad_randomness-1920w.webp 1920w, /img/posts/alice/badrandom/bad_randomness-1280w.webp 1280w, /img/posts/alice/badrandom/bad_randomness-840w.webp 840w, /img/posts/alice/badrandom/bad_randomness-320w.webp 320w" type="image/webp"><source sizes="(max-width: 758px) 100vw, 758px" srcset="/img/posts/alice/badrandom/bad_randomness-1920w.png 1920w, /img/posts/alice/badrandom/bad_randomness-1280w.png 1280w, /img/posts/alice/badrandom/bad_randomness-840w.png 840w, /img/posts/alice/badrandom/bad_randomness-320w.png 320w" type="image/png"><img alt="" src="/img/posts/alice/badrandom/bad_randomness-1920w.png" height="1080" width="1920" decoding="async" loading="lazy" style="background-size:cover;background-image:url(&#34;data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http%3A//www.w3.org/2000/svg' xmlns%3Axlink='http%3A//www.w3.org/1999/xlink' viewBox='0 0 1920 1080'%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='.5'%3E%3C/feGaussianBlur%3E%3CfeComponentTransfer%3E%3CfeFuncA type='discrete' tableValues='1 1'%3E%3C/feFuncA%3E%3C/feComponentTransfer%3E%3C/filter%3E%3Cimage filter='url(%23b)' preserveAspectRatio='none' height='100%25' width='100%25' xlink%3Ahref='data%3Aimage/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAGCAYAAAD68A/GAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAx0lEQVQImR2OvQpGcByFf+UCrKzexSyDwaYUpUhGFgYiJUpRSpLPxWJ1D27wvPkPz3I6PecQx3EIwxBVVYGI4Ps+nueB4zhwXRfTNEHTNJAgCDiOA8uywDRNzPMMz/Ow7zsTvO/LIEmSUJYl2rbFOI5omoaxbRuiKGLZB30TwzAgyzL0fY91XaEoCitf14Xf74eu60CfKc9zFEWBNE1x3zeSJIEoigiCAOd5Qtd1EM/zUFWVna/rGpZlsW9xHMO2bRiGAVmW8Qf57H/qAE3PKwAAAABJRU5ErkJggg=='%3E%3C/image%3E%3C/svg%3E&#34;)"></picture></p><h2 id="what-is-randomness%3F"><a href="#what-is-randomness%3F" class="direct-link">#</a> What is Randomness?</h2><p>In Solidity, randomness is often applied in lotteries, NFT generation, GameFi, and so on, to distribute prizes or determine the rarity and appearance of game items and other characteristics. The authenticity of the randomness used in decentralized applications directly impacts user rights. If the random outcome can be predicted or manipulated, it undermines the principle of fairness pursued by decentralized applications. Using visible information when generating random numbers in Solidity can lead to vulnerabilities related to pseudo-randomness.</p><p>This article will delve into the issues of randomness in Solidity and its potential risks, providing effective solutions to help developers protect smart contracts from such vulnerabilities.</p><h2 id="source-of-bad-randomness"><a href="#source-of-bad-randomness" class="direct-link">#</a> Source of Bad Randomness</h2><p>If the source of random numbers in a smart contract comes from visible information, attackers can monitor transactions or use this to predict outcomes, gaining an unfair advantage. In smart contracts, some parameters are completely public information:</p><ul><li><code>block.difficulty</code>: Current block difficulty</li><li><code>block.timestamp</code>: Current block timestamp</li><li><code>block.number</code>: Current block number</li></ul><h3 id="bad-randomness-vulnerability-example"><a href="#bad-randomness-vulnerability-example" class="direct-link">#</a> Bad Randomness Vulnerability Example</h3><p>There is a function in the contract that participates in a lottery.</p><pre class="language-solidity"><code class="language-solidity"><span class="token comment">// SPDX-License-Identifier: MIT</span><br><span class="token keyword">pragma</span> <span class="token keyword">solidity</span> <span class="token operator">^</span><span class="token number version">0.8.0</span><span class="token punctuation">;</span><br><br><span class="token keyword">contract</span> <span class="token class-name">UnfairLottery</span> <span class="token punctuation">{</span><br>    <span class="token builtin">uint</span> <span class="token keyword">public</span> lotteryEndTime<span class="token punctuation">;</span><br>    <span class="token builtin">address</span> <span class="token keyword">public</span> winner<span class="token punctuation">;</span><br>    <span class="token builtin">bool</span> <span class="token keyword">public</span> hasWinner<span class="token punctuation">;</span><br>    <span class="token builtin">uint</span> <span class="token keyword">public</span> ticketPrice <span class="token operator">=</span> <span class="token number">1</span> ether<span class="token punctuation">;</span><br><br>    <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        <span class="token comment">// EndTime</span><br>        lotteryEndTime <span class="token operator">=</span> block<span class="token punctuation">.</span>timestamp <span class="token operator">+</span> <span class="token number">30</span> seconds<span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br><br>    <span class="token comment">// participate lottery</span><br>    <span class="token keyword">function</span> <span class="token function">participate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">public</span> <span class="token keyword">payable</span> <span class="token punctuation">{</span><br>        <span class="token keyword">require</span><span class="token punctuation">(</span>msg<span class="token punctuation">.</span>value <span class="token operator">==</span> ticketPrice<span class="token punctuation">,</span> <span class="token string">"Must send exactly 1 ether to participate"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>        <span class="token keyword">require</span><span class="token punctuation">(</span><span class="token operator">!</span>hasWinner<span class="token punctuation">,</span> <span class="token string">"Lottery already has a winner"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>        <br>        <span class="token comment">// The first participant within 30 seconds after the end of the lottery will be the winner.</span><br>        <span class="token keyword">if</span> <span class="token punctuation">(</span>block<span class="token punctuation">.</span>timestamp <span class="token operator">>=</span> lotteryEndTime <span class="token operator">&&</span> <span class="token operator">!</span>hasWinner<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>            winner <span class="token operator">=</span> msg<span class="token punctuation">.</span>sender<span class="token punctuation">;</span><br>            hasWinner <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span><br>            <span class="token keyword">payable</span><span class="token punctuation">(</span>winner<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">transfer</span><span class="token punctuation">(</span><span class="token builtin">address</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span>balance<span class="token punctuation">)</span><span class="token punctuation">;</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><br><span class="token punctuation">}</span><br></code></pre><h3 id="details-of-bad-randomness-vulnerability-example"><a href="#details-of-bad-randomness-vulnerability-example" class="direct-link">#</a> Details of Bad Randomness Vulnerability Example</h3><p>Each participant must pay a fixed amount of Ether (1 ETH) as a condition to participate in the lottery.</p><p>The method for selecting the winner uses the on-chain visible <code>block.timestamp</code> as the basis for choosing the lottery winner. Participants can monitor on-chain information or use automated scripts to ensure they always become the winner.</p><p>This creates an unfair advantage for other users, as some participants can manipulate or predict these publicly available on-chain data to increase their chances of winning.</p><p>More Similar Findings:<br><a href="https://github.com/code-423n4/2022-10-holograph-findings/issues/427" rel="noopener noreferrer" target="_blank">1</a>,<a href="https://github.com/code-423n4/2021-05-nftx-findings/issues/78" rel="noopener noreferrer" target="_blank">2</a>,<a href="https://github.com/trailofbits/publications/blob/master/reviews/zecwallet.pdf" rel="noopener noreferrer" target="_blank">3</a>,<a href="https://github.com/code-423n4/2021-04-meebits-findings/issues/30" rel="noopener noreferrer" target="_blank">4</a>,<a href="https://github.com/code-423n4/2022-03-joyn-findings/issues/50" rel="noopener noreferrer" target="_blank">5</a></p><h2 id="how-to-implement-true-randomness"><a href="#how-to-implement-true-randomness" class="direct-link">#</a> How to Implement True Randomness</h2><p>Integrating <a href="https://docs.chain.link/vrf/v2/subscription/examples/get-a-random-number#request-random-values" rel="noopener noreferrer" target="_blank">Chainlink VRF V2</a> to obtain a random number, the contract can send a request for randomness using requestRandomWords(). Chainlink VRF processes the request and returns the random value to the contract using fulfillRandomWords(). The random value is associated with the corresponding requestId and stored in the contract.</p><div class="article-footer"><a href="https://tech-blog.cymetrics.io/en/posts/alice/bad_random_en/" on-click="share"><img alt="Share" src="/img/icons/icon_external link hyperlink.svg" height="24" width="24">Share this post</a></div><div><p style="font-weight: bold;">Tag</p><div class="post-tags"><a href="/en/tags/postsen/" class="post-tag">#postsEn</a> <a href="/en/tags/blockchain/" class="post-tag">#Blockchain</a> <a href="/en/tags/solidity/" class="post-tag">#Solidity</a></div><p style="font-weight: bold;">Recommendation</p><ol><li><a href="/en/posts/zet/purple-man-my-superman/">Walking around between Red Team and Blue Team - Purple Man, My Superman</a></li><li><a href="/en/posts/nick/backup_en/">Basic Awareness of Hacking Prevention：Backup and Restore</a></li><li><a href="/en/posts/huli/how-i-hacked-glints-and-your-resume-en/">Story of critical security flaws I found in Glints</a></li><li><a href="/en/posts/crystal/dns-hacking-intro/">DNS Hacking Basics - DNS and records</a></li><li><a href="/en/posts/genchilu/concurrency-paradigms-golang-and-java-en/">Concurrency Paradigms: Golang V.S. Java</a></li></ol></div><div class="article-author"><img alt="AliceHsu" src="/img/authors/alice_logo.jpg" class="article-author__img" data-deopt="true"><div class="article-author__info"><div class="article-author__title">Author</div><div class="article-author__author"><a href="/en/posts/alice">AliceHsu</a></div><div class="article-author__intro">OP and white hat @DeFiHackLabs</div></div></div><p style="font-weight: bold;">Discussion(login required)</p><script async="" src="https://utteranc.es/client.js" crossorigin="anonymous" id="utterance-script" issue-term="title" label="utterance" repo="cymetrics/blog" theme="github-light"></script><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"How to prevent randomness vulnerabilities in Solidity.","image":["https://tech-blog.cymetrics.io/img/posts/alice/badrandom/bad_randomness-1920w.png","https://tech-blog.cymetrics.io/img/icons/icon_external link hyperlink.svg","https://tech-blog.cymetrics.io/img/authors/alice_logo.jpg"],"author":{"@type":"Person","name":"AliceHsu"},"publisher":{"@type":"Organization","name":"Cymetrics Tech Blog","url":"https://tech-blog.cymetrics.io","logo":{"@type":"ImageObject","url":"https://tech-blog.cymetrics.io/img/favicon/favicon-512x512.png","width":512,"height":512}},"url":"https://tech-blog.cymetrics.io/en/posts/alice/bad_random_en/","mainEntityOfPage":"https://tech-blog.cymetrics.io/en/posts/alice/bad_random_en/","datePublished":"2024-10-31","dateModified":"2025-06-15","description":"# What is Randomness? In Solidity, randomness is often applied in lotteries, NFT generation, GameFi, and so on, to distribute prizes or..."}</script></article></main><footer><div class="footer-logos"><a href="https://www.facebook.com/cymetrics" rel="noopener noreferrer" target="_blank"><img alt="facebook" src="/img/icons/icon_social media_facebook.svg" height="30" width="30"></a><a href="https://www.linkedin.com/company/cymetrics" rel="noopener noreferrer" target="_blank"><img alt="linkedin" src="/img/icons/icon_social media_linkedln.svg" height="30" width="30"></a><a href="https://tech-blog.cymetrics.io/feed/feed.xml" rel="noreferrer noopener" target="_blank"><img alt="rss feed" src="/img/icons/rss-feed.svg" height="30" width="30"></a></div><div class="copyright">© 2025 Cymetrics Tech Blog, based on <a href="https://github.com/google/eleventy-high-performance-blog" rel="noopener noreferrer" target="_blank">eleventy-high-performance-blog</a>. <a href="https://cymetrics.io/" rel="noopener noreferrer" target="_blank">Cymetrics</a></div></footer><script>const menuBtn = document.querySelector('.menu__btn')
      menuBtn.addEventListener('click', function() {
        document.querySelector('body').classList.toggle('lock')
        menuBtn.classList.toggle('menu__btn--close');
        document.querySelector('.nav__links').classList.toggle('nav__links--open')
      })</script></body></html>